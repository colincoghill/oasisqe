{% extends "page_nav.html" %}
{% block body %}
  <br/>
  <p>Return to <a href="{{ cf.url }}admin/groups">Groups</a></p>
 <div class="row">
    <div class="span2">
      <h4>Group Type
      </h4>
      <dl>
        <dt>Staff
          <br>
        </dt>
        <dd>Staff or assistants can be assigned activities like
          course co-ordination or question creation.
          <br>
        </dd>
        <dt>Enrolment
          <br>
        </dt>
        <dd>Students can access course assessments and practice.
          <br>
        </dd>
        <dt>Statistical
          <br>
        </dt>
        <dd>Grouping for analysis and reporting. Members cannot
          see they are in these groups.
          <br>
        </dd>
      </dl>
      <h4>Source</h4>
      <p>Where the information on group membership comes from:
      </p>
      <dl>
        <dt>Ad-Hoc
          <br>
        </dt>
        <dd>Maintained manually - members can be added or removed by staff.
          <br>
        </dd>
        <dt>External Feed
          <br>
        </dt>
        <dd>Membership information comes from an external source, eg. an LDAP server.
          <br>
        </dd>
        <dt>Open Registration
          <br>
        </dt>
        <dd>Users can enrol themselves into the group.
          <br>
        </dd>
      </dl>
    </div>
    <div class="span8">
      <h1>Edit Group
        <br>
      </h1>
      <div class="well">
        <form>
          <label>Group Name:</label>
          <input placeholder="Group name" class="input-medium"
          type="text">
          <label>Title:</label>
          <input class="input-xxlarge" type="text">
          <label>Group Type:</label>
          <select>
            <option>Staff</option>
            <option>Enrolment</option>
            <option>Statistical</option>
          </select>
          <label>Group is Active:</label>
          <select name='period'>
            {% for period in periods %}
            <option value='{{ period.id }}'>{{ period.name }}</option>
            {% endfor %}
          </select>
          <label>Source:</label>
          <p></p>
          <select id='source_select'>
            <option value='feed'>External Feed</option>
            <option value='adhoc'>Ad-Hoc</option>
            <option value='open'>Open Registration</option>
          </select>
        <div id='feed_select'>
          <label>Feed: <select name='feed'>
            {% for feed in feeds %}
            <option value='{{ feed.id }}'>{{ feed.name }}</option>
            {% endfor %}
          </select></label>
        <br/><label>Arguments to feed:
          <input placeholder="name" class="input-xlarge" id='feed_args' name='feed_args' type="text">
          <a class="btn">Test</a>
          </label>
        <p>To update this feed, OASIS will run:<pre><span id='feed_cmd'></span></pre> </p>
        </div>
        </form>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Submit</button>
          <input class="btn" value="Reset" type="reset">
        </div>
      </div>
      <ul></ul>
      <ul></ul>
      <p></p>
    </div>
  </div>

  <p>Return to <a href="{{ cf.url }}admin/groups">Groups</a></p>

  <br/>
  <br/>
  <br/>

{% endblock body %}
{% block js %}
  <script>
    $(function () {
      $('#cancel').click(function () {
        $('#form').parsley('destroy');
        $('#form').submit();
      });

      $('#source_select').change(function() {
        if ($('#source_select').val() == 'feed') {
        $('#feed_select').show();
        } else {
          $('#feed_select').hide();
        }
      });
      $('#feed_args').change(function() {
        $('#feed_cmd').html("{{ cf.feed_dir }}/feedscript.py "+$('#feed_args').val()+' <i>timeperiod</i>')
      });
    });

  </script>
{% endblock js %}
{% block pagetitle %}Server Admin{% endblock %}