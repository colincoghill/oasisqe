{% extends "page_courseadmin.html" %}
{% block body %}
    <br/>
    Back to <a href="{{ cf.url }}courseadmin/top/{{ course.id }}">Course Page</a>
    <H2>All Topics</H2>
    <h4>{{ course.name }} ({{ course.title }})</h4>
    <div class="container-fluid well">
        <h5>Visible Practice Topics</h5>

        <form method="POST" action="{{ cf.url }}courseadmin/topics_save/{{ course.id }}">
            <table class="table">
                <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th>Questions</th>
                    <th>Visibility</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for topic in topics %}
                    {% if topic.visibility >= 2 %}
                        <tr>
                            <td><input name="{{ topic.id }}_position" type="text" class="input-mini"
                                       value='{{ topic.position }}'></td>
                            <td><input name="{{ topic.id }}_name" type="text" class="input" value='{{ topic.title }}'>
                            </td>
                            <td>{{ topic.numquestions }}</td>
                            <td><select name="{{ topic.id }}_visibility">
                                {% if topic.visibility>=4 %}
                                    <option value='4' SELECTED>{% else %}
                                    <option value='4'>{% endif %}Anyone</option>
                                {% if topic.visibility==3 %}
                                    <option value='3' SELECTED>{% else %}
                                    <option value='3'>{% endif %}UofA Only</option>
                                {% if topic.visibility==2 %}
                                    <option value='2' SELECTED>{% else %}
                                    <option value='2'>{% endif %}Students in Class</option>
                                {% if topic.visibility<=1 %}
                                    <option value='1' SELECTED>{% else %}
                                    <option value='1'>{% endif %}Hidden (Staff Only)</option>
                            </select></td>
                            <td><a href="{{ cf.url }}courseadmin/edittopic/{{ topic.id }}" class='btn-mini btn'>Edit
                                Questions</a></td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
            <h5>Hidden Practice Topics</h5>
            <table class="table">
                <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th>Questions</th>
                    <th>Visibility</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for topic in topics %}
                    {% if topic.visibility < 2 %}
                        <tr>
                            <td><input name="{{ topic.id }}_position" type="text" class="input-mini"
                                       value='{{ topic.position }}'></td>
                            <td><input name="{{ topic.id }}_name" type="text" class="input" value='{{ topic.title }}'>
                            </td>
                            <td>{{ topic.numquestions }}</td>
                            <td><select name="{{ topic.id }}_visibility">
                                {% if topic.visibility>=4 %}
                                    <option value='4' SELECTED>{% else %}
                                    <option value='4'>{% endif %}Anyone</option>
                                {% if topic.visibility==3 %}
                                    <option value='3' SELECTED>{% else %}
                                    <option value='3'>{% endif %}UofA Only</option>
                                {% if topic.visibility==2 %}
                                    <option value='2' SELECTED>{% else %}
                                    <option value='2'>{% endif %}Students in Class</option>
                                {% if topic.visibility<=1 %}
                                    <option value='1' SELECTED>{% else %}
                                    <option value='1'>{% endif %}Hidden (Staff Only)</option>
                            </select></td>
                            <td><a href="{{ cf.url }}courseadmin/edittopic/{{ topic.id }}" class='btn-mini btn'>Edit
                                Questions</a></td>
                        </tr>
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
            <br/>

            <div class='pull-right'>
                <input type="submit" name="save" value="Save Changes" class='btn btn-primary'>
                <input type="submit" name="cancel" value="Cancel" class='btn btn-danger'>
            </div>
        </form>
    </div>

{% endblock body %}